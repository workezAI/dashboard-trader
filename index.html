<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard WDOFUT</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
    }
    header {
      display: flex;
      align-items: center;
      padding: 20px;
      background-color: #ffffff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-bottom: 10px;
    }
    header img {
      height: 40px;
      margin-right: 10px;
    }
    header .title {
      font-size: 1.2rem;
      font-weight: bold;
      margin-right: auto;
    }
    header select {
      padding: 5px 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin-left: 10px;
    }

    .container {
      display: flex;
      flex-direction: row;
      height: calc(100vh - 90px);
    }
    .left {
      width: 65%;
      padding: 20px;
      overflow-y: auto;
    }
    .right {
      width: 35%;
      background: #ffffff;
      padding: 20px;
      box-shadow: -2px 0 4px rgba(0, 0, 0, 0.1);
      overflow-y: auto;
    }
    .algorithm {
      background-color: #ffffff;
      border: 1px solid #ddd;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 20px;
    }
    .algorithm h3 {
      margin-bottom: 10px;
    }
    .algorithm p {
      margin-bottom: 5px;
    }
    .box {
      background-color: #ffffff;
      border: 1px solid #ddd;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 20px;
    }
    .box h3 {
      margin-bottom: 15px;
    }
    .chart-container {
      width: 100%;
      overflow-x: auto;
    }
    canvas {
      display: block;
      margin: 0 auto;
    }
    .positive {
      color: green;
    }
    .negative {
      color: red;
    }
    .stats p {
      margin-bottom: 14px;
      line-height: 1.4;
      display: flex;
      justify-content: space-between;
    }
    .stats p strong {
      min-width: 150px;
    }
  </style>
</head>
<body>
  <header>
    <img
      src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/B3_logo_2021.svg/768px-B3_logo_2021.svg.png"
      alt="Logo B3"
    />
    <div class="title">WDOFUT - Dashboard</div>
    <select id="periodSelect">
      <option value="12meses">12 Meses</option>
      <option value="6meses">6 Meses</option>
      <option value="semanal">Semanal</option>
    </select>
    <select id="diaSelect">
      <option value="terça">Terça</option>
      <option value="quarta">Quarta</option>
      <option value="quinta">Quinta</option>
      <option value="sexta">Sexta</option>
    </select>
  </header>

  <div class="container">
    <div class="left">
      <div class="algorithm">
        <h3>Algoritmo</h3>
        <p>Robô que opera o ativo WDOFUT.</p>
        <p>Robo que opera a ação de Petobras para compra com estratégia indice de força relativa.</p>
      </div>
      <div class="box">
        <h3>Resultado no Gráfico</h3>
        <div class="chart-container">
          <canvas id="chart" width="800" height="400"></canvas>
        </div>
      </div>
    </div>

    <div class="right">
      <div class="box stats" id="statsBox">
        <h3>Resumo de Estatística</h3>
        <p><strong>Lucro:</strong> <span id="stat-lucro" class="positive"></span></p>
        <p><strong>ContratosCompra:</strong> <span id="stat-compra"></span></p>
        <p><strong>ContratosVenda:</strong> <span id="stat-venda"></span></p>
        <p><strong>TotalOperacoes:</strong> <span id="stat-totalOp"></span></p>
        <p><strong>OperacoesPositivas:</strong> <span id="stat-pos"></span></p>
        <p><strong>OperacoesNegativas:</strong> <span id="stat-neg"></span></p>
        <p><strong>PercentualGanho:</strong> <span id="stat-ganho" class="positive"></span></p>
        <p><strong>PercentualPerda:</strong> <span id="stat-perda" class="negative"></span></p>
        <p><strong>MaiorLucro:</strong> <span id="stat-maiorLucro" class="positive"></span></p>
        <p><strong>MaiorPrejuizo:</strong> <span id="stat-maiorPrejuizo" class="negative"></span></p>
        <p><strong>SequenciaGanho:</strong> <span id="stat-seqGanho" class="positive"></span></p>
        <p><strong>SequenciaPerda:</strong> <span id="stat-seqPerda" class="negative"></span></p>
      </div>
    </div>
  </div>

  <script>
    // Dados fictícios: Repare que cada período tem "terça", "quarta", "quinta", "sexta"!
    var wdofutData = {
      "12meses": {
        "terça": {
          stats: { lucro: 15000, compra: 120, venda: 120, totalOp: 40, pos: 30, neg: 10,
                   pctGanho: "75%", pctPerda: "25%", maiorLucro: 2000, maiorPrejuizo: 1000,
                   seqGanho: 5, seqPerda: 2 },
          chartData: [1200, 900, 1500, 2000, 1800, 2200, 2500, 2700, 1300, 900, 1600, 2100],
          label: ["Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez", "Jan", "Fev", "Mar", "Abr"]
        },
        "quarta": {
          stats: { lucro: 18000, compra: 140, venda: 140, totalOp: 45, pos: 35, neg: 10,
                   pctGanho: "77.77%", pctPerda: "22.23%", maiorLucro: 2500, maiorPrejuizo: 1200,
                   seqGanho: 7, seqPerda: 2 },
          chartData: [900, 1200, 1800, 2300, 2000, 2100, 2800, 2600, 1500, 1000, 700, 1900],
          label: ["Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez", "Jan", "Fev", "Mar", "Abr"]
        },
        "quinta": {
          stats: { lucro: 21000, compra: 160, venda: 160, totalOp: 50, pos: 40, neg: 10,
                   pctGanho: "80%", pctPerda: "20%", maiorLucro: 3000, maiorPrejuizo: 1500,
                   seqGanho: 8, seqPerda: 1 },
          chartData: [1000, 1100, 1900, 2400, 2500, 3100, 3000, 2700, 1800, 1300, 1900, 2200],
          label: ["Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez", "Jan", "Fev", "Mar", "Abr"]
        },
        "sexta": {
          stats: { lucro: 25000, compra: 180, venda: 180, totalOp: 60, pos: 45, neg: 15,
                   pctGanho: "75%", pctPerda: "25%", maiorLucro: 4000, maiorPrejuizo: 2000,
                   seqGanho: 6, seqPerda: 2 },
          chartData: [1100, 1500, 2000, 3000, 2500, 3200, 2900, 3500, 1900, 2100, 2200, 2700],
          label: ["Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez", "Jan", "Fev", "Mar", "Abr"]
        }
      },
      "6meses": {
        "terça": {
          stats: { lucro: 9000, compra: 80, venda: 80, totalOp: 30, pos: 20, neg: 10,
                   pctGanho: "66.66%", pctPerda: "33.34%", maiorLucro: 1500, maiorPrejuizo: 900,
                   seqGanho: 4, seqPerda: 1 },
          chartData: [600, 1200, 800, 1500, 700, 900],
          label: ["Nov", "Dez", "Jan", "Fev", "Mar", "Abr"]
        },
        "quarta": {
          stats: { lucro: 10000, compra: 90, venda: 90, totalOp: 30, pos: 22, neg: 8,
                   pctGanho: "73.33%", pctPerda: "26.67%", maiorLucro: 1600, maiorPrejuizo: 1000,
                   seqGanho: 5, seqPerda: 2 },
          chartData: [900, 1400, 1100, 1700, 600, 1300],
          label: ["Nov", "Dez", "Jan", "Fev", "Mar", "Abr"]
        },
        "quinta": {
          stats: { lucro: 12000, compra: 100, venda: 100, totalOp: 35, pos: 28, neg: 7,
                   pctGanho: "80%", pctPerda: "20%", maiorLucro: 2000, maiorPrejuizo: 1100,
                   seqGanho: 6, seqPerda: 1 },
          chartData: [1000, 1200, 1300, 1800, 1700, 2000],
          label: ["Nov", "Dez", "Jan", "Fev", "Mar", "Abr"]
        },
        "sexta": {
          stats: { lucro: 15000, compra: 110, venda: 110, totalOp: 40, pos: 30, neg: 10,
                   pctGanho: "75%", pctPerda: "25%", maiorLucro: 2500, maiorPrejuizo: 1400,
                   seqGanho: 7, seqPerda: 2 },
          chartData: [1100, 1300, 1400, 1900, 2100, 2500],
          label: ["Nov", "Dez", "Jan", "Fev", "Mar", "Abr"]
        }
      },
      "semanal": {
        "terça": {
          stats: { lucro: 2000, compra: 20, venda: 20, totalOp: 8, pos: 6, neg: 2,
                   pctGanho: "75%", pctPerda: "25%", maiorLucro: 500, maiorPrejuizo: 300,
                   seqGanho: 3, seqPerda: 1 },
          chartData: [500, 300, 600, 600],
          label: ["Semana 1", "Semana 2", "Semana 3", "Semana 4"]
        },
        "quarta": {
          stats: { lucro: 3000, compra: 22, venda: 22, totalOp: 10, pos: 7, neg: 3,
                   pctGanho: "70%", pctPerda: "30%", maiorLucro: 700, maiorPrejuizo: 400,
                   seqGanho: 4, seqPerda: 1 },
          chartData: [600, 900, 800, 700],
          label: ["Semana 1", "Semana 2", "Semana 3", "Semana 4"]
        },
        "quinta": {
          stats: { lucro: 3500, compra: 25, venda: 25, totalOp: 12, pos: 9, neg: 3,
                   pctGanho: "75%", pctPerda: "25%", maiorLucro: 800, maiorPrejuizo: 400,
                   seqGanho: 5, seqPerda: 1 },
          chartData: [800, 700, 1200, 800],
          label: ["Semana 1", "Semana 2", "Semana 3", "Semana 4"]
        },
        "sexta": {
          stats: { lucro: 4500, compra: 30, venda: 30, totalOp: 15, pos: 10, neg: 5,
                   pctGanho: "66.66%", pctPerda: "33.34%", maiorLucro: 1000, maiorPrejuizo: 500,
                   seqGanho: 5, seqPerda: 2 },
          chartData: [1000, 1200, 1300, 1000],
          label: ["Semana 1", "Semana 2", "Semana 3", "Semana 4"]
        }
      }
    };

    var periodSelect = document.getElementById("periodSelect");
    var diaSelect = document.getElementById("diaSelect");

    var statLucro = document.getElementById("stat-lucro");
    var statCompra = document.getElementById("stat-compra");
    var statVenda = document.getElementById("stat-venda");
    var statTotalOp = document.getElementById("stat-totalOp");
    var statPos = document.getElementById("stat-pos");
    var statNeg = document.getElementById("stat-neg");
    var statGanho = document.getElementById("stat-ganho");
    var statPerda = document.getElementById("stat-perda");
    var statMaiorLucro = document.getElementById("stat-maiorLucro");
    var statMaiorPrejuizo = document.getElementById("stat-maiorPrejuizo");
    var statSeqGanho = document.getElementById("stat-seqGanho");
    var statSeqPerda = document.getElementById("stat-seqPerda");

    var canvas = document.getElementById("chart");
    var ctx = canvas.getContext("2d");

    function drawChart(chartData, labels) {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      var width = canvas.width;
      var height = canvas.height;

      var marginLeft = 60;
      var marginRight = 20;
      var marginTop = 20;
      var marginBottom = 40;

      var chartWidth = width - marginLeft - marginRight;
      var chartHeight = height - marginTop - marginBottom;

      // Fundo branco
      ctx.fillStyle = "#ffffff";
      ctx.fillRect(0, 0, width, height);

      // Eixo X
      ctx.strokeStyle = "#000";
      ctx.beginPath();
      ctx.moveTo(marginLeft, marginTop + chartHeight);
      ctx.lineTo(marginLeft + chartWidth, marginTop + chartHeight);
      ctx.stroke();

      // Eixo Y
      ctx.beginPath();
      ctx.moveTo(marginLeft, marginTop);
      ctx.lineTo(marginLeft, marginTop + chartHeight);
      ctx.stroke();

      var maxValue = Math.max.apply(null, chartData);
      var minValue = Math.min.apply(null, chartData);
      var range = maxValue - minValue || 1;

      var barWidth = chartWidth / (chartData.length * 2);
      var barGap = barWidth;

      for (var i = 0; i < chartData.length; i++) {
        var value = chartData[i];
        var barHeight = ((value - minValue) / range) * chartHeight;
        var x = marginLeft + (barWidth + barGap) * i;
        var y = marginTop + (chartHeight - barHeight);

        ctx.fillStyle = "green";
        ctx.fillRect(x, y, barWidth, barHeight);

        ctx.fillStyle = "#000";
        ctx.font = "14px Arial";
        ctx.textAlign = "center";
        ctx.textBaseline = "bottom";
        ctx.fillText(value, x + barWidth / 2, y - 5);
      }

      ctx.fillStyle = "#000";
      ctx.textAlign = "center";
      ctx.textBaseline = "top";
      ctx.font = "14px Arial";
      for (var j = 0; j < labels.length; j++) {
        var lx = marginLeft + (barWidth + barGap) * j + barWidth / 2;
        var ly = marginTop + chartHeight + 5;
        ctx.fillText(labels[j], lx, ly);
      }
    }

    function fillStats(stats) {
      statLucro.textContent = stats.lucro;
      statCompra.textContent = stats.compra;
      statVenda.textContent = stats.venda;
      statTotalOp.textContent = stats.totalOp;
      statPos.textContent = stats.pos;
      statNeg.textContent = stats.neg;
      statGanho.textContent = stats.pctGanho;
      statPerda.textContent = stats.pctPerda;
      statMaiorLucro.textContent = stats.maiorLucro;
      statMaiorPrejuizo.textContent = stats.maiorPrejuizo;
      statSeqGanho.textContent = stats.seqGanho;
      statSeqPerda.textContent = stats.seqPerda;
    }

    function updateDashboard() {
      var period = periodSelect.value; // 12meses, 6meses, semanal
      var day = diaSelect.value;       // terça, quarta, quinta, sexta

      var chosen = wdofutData[period][day];
      if (!chosen) return;
      fillStats(chosen.stats);
      drawChart(chosen.chartData, chosen.label);
    }

    function resizeCanvas() {
      canvas.width = canvas.offsetWidth;
      canvas.height = 400;
      updateDashboard();
    }

    window.addEventListener("load", function() {
      resizeCanvas();
    });
    window.addEventListener("resize", function() {
      resizeCanvas();
    });

    periodSelect.addEventListener("change", updateDashboard);
    diaSelect.addEventListener("change", updateDashboard);
  </script>
</body>
</html>
